---
nginx_sites:
 default:
     - listen 80
     - server_name _
     - root "/usr/share/nginx/html"
     - index index.html
 foo:
     - listen 8080
     - server_name localhost
     - root "/tmp/site1"
     - location / { try_files $uri $uri/ /index.html; }
     - location /images/ { try_files $uri $uri/ /index.html; }
 bar:
     - listen 9090
     - server_name ansible
     - root "/tmp/site2"
     - location / { try_files $uri $uri/ /index.html; }
     - location /images/ {
         try_files $uri $uri/ /index.html;
         allow 127.0.0.1;
         deny all;
       }

nginx_configs:
  proxy:
      - proxy_set_header X-Real-IP  $remote_addr
      - proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for
  upstream:
      - upstream foo { server 127.0.0.1:8080 weight=10; }
  geo:
      - geo $local {
          default 0;
          127.0.0.1 1;
        }
  gzip:
      - gzip on
      - gzip_disable msie6

nginx_auth_basic_files:
   demo:
     - foo:$2y$05$WCanxOi0bAPQqPao152KQuDwTSKc3fWAqfO5kSA1t9NGwcROk8W4a # foo:demo , generated by : htpasswd -B -nb foo demo
     - bar:$2y$05$zkq9sYtZI1tQLaXfo9yisuW9Zb7uOg1DRdp84Igl6pUk.CovnAefi # bar:demo , generated by : htpasswd -B -nb bar demo
